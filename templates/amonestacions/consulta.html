


{% extends "amonestacions/base.html" %}

{% block header %}

<script type="text/javascript">

$(document).ready(function() {
	
	// add parser through the tablesorter addParser method 
	$.tablesorter.addParser({ 
		// set a unique id 
		id: 'dts', 
		is: function(s) { 
			// return false so this parser is not auto detected 
			return false; 
		}, 
		format: function(s) { 
			// format your data for normalization 
			s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$2/$1/$3");
			return $.tablesorter.formatFloat(new Date(s).getTime());
		}, 
		// set type, either numeric or text 
		type: 'numeric' 
	});         
	

	$("#doit").click(function() {
		var data = $(this).parent().serializeArray();
		$("#consulta").load('/amonestacions/consultagruppost/', data, function() { 
			$("#mytable").tablesorter({ headers: { 1: { sorter:'dts' } } }); 
		} );
		return false;
	});
	
	

});


</script>

<style type="text/css">

	.t2 {
		display: none;
	}
	
	
	table#t1 td, table#t1 th {
		width: auto;
	}
	
	table#t1 {
		width: auto;
		margin-bottom: 10px;
	}
	
	div#consulta {
		display: block;
	}
	
	tr.critic0 {
		background-color: #e56249;
	}
	
	tr.critic1 {
		background-color: #d77049;
	}
	
	tr.critic2 {
		background-color: #ca7d49;
	}
	
	tr.critic3 {
		background-color: #be8949;
	}
	
	tr.critic4 {
		background-color: #b19649;
	}
	
	tr.critic5 {
		background-color: #a4a455;
	}
	
	tr.critic6 {
		background-color: #96b155;
	}

</style>


{% endblock %}


{% block body %}

<h1> Consulta Amonestacions </h1>

{% if form %}
	<form method="post">
	
	<table id="t1">
	{{ form.as_table }}
	</table>
	
	<input type="submit" id="doit">

	</form>
{% endif %}

<div id="consulta">

</div>


{% endblock %}
